---
import Icon from '../components/icon.astro';
import Seo from '../components/seo.astro';
import LiteYTEmbed from '../components/lite-youtube.astro';
import Gamemodes from '../components/gamemodes/gamemodes.astro';
import Replay from '../components/ui-chunks/replay.astro';
import MapSelector from '../components/ui-chunks/map-selector.astro';
import Graph from '../components/ui-chunks/graph.astro';
import Levels from '../components/ui-chunks/levels.astro';
import Leaderboards from '../components/ui-chunks/leaderboards.astro';
import Lobby from '../components/ui-chunks/lobby.astro';
import Credits from '../components/credits/credits.astro';

import '@fontsource/roboto';
import '../styles/main.css';
import '../styles/lite-yt-embed.css';
import '../styles/ui-chunks.css';

import { momLogo } from '../components/svg-paths.json';
import { mdiBookshelf, mdiChevronDoubleDown, mdiPost } from '@mdi/js';
import {
  siDiscord,
  siGithub,
  siOpencollective,
  siSteam,
  siTwitch,
  siYoutube
} from 'simple-icons';

const Year = new Date().getFullYear().toString();
---

<html lang="en">
  <head>
    <title>Momentum Mod</title>
    <meta charset="utf-8" />
    <meta name="theme-color" content="#1896D3" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/png" href="/assets/favicon.png" />
    <link rel="icon" type="image/x-icon" href="/assets/favicon.ico" />

    <Seo />

    <script>
      const heroChevron =
        document.querySelector<HTMLLinkElement>('#HeroChevron');
      document.addEventListener('scroll', () => {
        heroChevron.style.opacity = Math.max(
          1 - window.scrollY / 200,
          0
        ).toString();
      });
    </script>
  </head>

  <body>
    <header>
      <picture class="background">
        <source
          media="(max-width: 1280px)"
          srcset="/assets/images/bg-light_1280x720.webp"
        />
        <source
          media="(max-width: 1920px)"
          srcset="/assets/images/bg-light_1920x1080.webp"
        />
        <source
          media="(min-width: 1921px)"
          srcset="/assets/images/bg-light_2560x1440.webp"
        />
        <img src="/assets/images/bg-light_1920x1080.webp" alt="" />
      </picture>
      <div class="content">
        <div class="hero">
          <img
            id="Logo"
            class="logo"
            src="/assets/images/logo.svg"
            alt="Momentum Mod's Titlecard Logo"
          />
          <h2 class="subheading" id="Subheading">
            A free first-person racing-platformer built on the Source engine
          </h2>
          <div class="buttons">
            <a
              class="donate"
              target="_blank"
              href="https://opencollective.com/momentum-mod"><p>Donate</p></a
            >
            <a
              class="dashboard"
              target="_blank"
              href="https://momentum-mod.org/dashboard"><p>Dashboard</p></a
            >
            <a
              class="discord"
              target="_blank"
              href="https://discord.gg/momentummod"><p>Discord</p></a
            >
          </div>
          <iframe
            class="steam"
            src="https://store.steampowered.com/widget/669270/"
            height="190"
            title="Steam Store Info"></iframe>
        </div>
        <a id="HeroChevron" href="#Main" class="chevron">
          <Icon path={mdiChevronDoubleDown} />
        </a>
      </div>
    </header>

    <main id="Main">
      <div class="background-section">
        <section id="WhatIsMomentum">
          <div class="description">
            <h1>What is Momentum Mod?</h1>

            <p>
              Momentum Mod is a free game that aims to faithfully recreate,
              centralize, and improve upon movement game modes found in
              Counter-Strike, Team Fortress, Half-Life, and Quake. These games
              are all first-person
              <i>shooters</i>, but communities from multiplayer servers across
              these games have honed in on unique, highly-competitive
              movement-focused gameplay completely separate from the original
              game's PvP goal.
            </p>

            <p>
              As long-term members of these communities, we formed Momentum Mod
              as an attempt to establish these modes into a not-for-profit,
              widely accessible platform with centralized leaderboards. Despite
              affectionately having "Mod" in the name, Momentum is a fully
              standalone game built on a
              <a href="https://stratasource.org">modernized Source Engine</a>.
              We've integrated functionality from community server plugins
              directly into the game, alongside movement fixes, polish and new
              features to make the best platform to learn, improve, and compete
              in each of the supported modes.
            </p>
          </div>

          <LiteYTEmbed
            videoid="Cep1KZKznZo"
            class="intro-video"
            playlabel="Play: What is Momentum Mod?"
            title="What is Momentum Mod?"
          />
        </section>

        <section id="Gamemodes">
          <h1>Gamemodes</h1>
          <Gamemodes />
        </section>
        <div class="fancy-border"></div>
      </div>

      <div class="background-section">
        <picture class="background">
          <source
            media="(max-width: 1280px)"
            srcset="/assets/images/bg-light_1280x720.webp"
          />
          <source
            media="(max-width: 1920px)"
            srcset="/assets/images/bg-light_1920x1080.webp"
          />
          <source
            media="(min-width: 1921px)"
            srcset="/assets/images/bg-light_2560x1440.webp"
          />
          <img src="/assets/images/bg-light_1920x1080.webp" alt="" />
        </picture>
        <div class="fancy-border-top"></div>
        <section id="Features">
          <div class="header-title">
            <h1>Features</h1>
          </div>
          <div class="bento-grid">
            <div class="bento-item leaderboards">
              <div class="details">
                <h1>Leaderboards, replays and ghosts</h1>
                <p>
                  Global leaderboard to all runs submitted, with every run
                  watchable in the in-game replay viewer. Compare your run to
                  anyone else, and race against ghosts of other runs!
                </p>
              </div>
              <div class="scroll-wrapper">
                <div id="Leaderboard" class="ui-chunk">
                  <Leaderboards />
                </div>
              </div>
              <div id="Replay" class="ui-chunk">
                <Replay />
              </div>
            </div>
            <div class="bento-item map-selector">
              <div class="details">
                <h1>In-game map selector</h1>
                <p>
                  Instantly download and play any map. No more players on the
                  server changing the map mid-run!
                </p>
              </div>
              <div class="scroll-wrapper">
                <div id="MapSelector" class="ui-chunk">
                  <MapSelector />
                </div>
              </div>
            </div>
            <div class="bento-item levels">
              <div id="Graph">
                <Graph />
              </div>
              <div id="Levels" class="ui-chunk">
                <Levels />
              </div>
              <div class="details">
                <h1>Level up!</h1>
                <p>
                  Gain global experience points from map completion as well as
                  per-gamemode competitive rank points.
                </p>
              </div>
            </div>
            <div class="bento-item multiplayer">
              <div id="Lobby" class="ui-chunk">
                <Lobby />
              </div>
              <div class="details">
                <h1>Lag-Free Multiplayer</h1>
                <p>
                  Host or join multiplayer lobbies to play with others on the
                  same map and chat to anyone in the lobby. Your copy of the map
                  is always hosted on your computer, which means no gameplay lag
                  ever!
                </p>
              </div>
            </div>
          </div>
        </section>
        <section id="Credits">
          <div class="header-title">
            <h1>Credits</h1>
          </div>
          <div class="credits">
            <Credits />
          </div>
        </section>

        <!-- Can't avoid sticking the footer in here. Gah! -->
        <footer>
          <div class="links">
            <div>
              <p>Our Sites</p>
              <a target="_blank" href="https://dashboard.momentum-mod.org">
                <Icon path={momLogo} />
                <p>Dashboard</p>
              </a>
              <a target="_blank" href="https://blog.momentum-mod.org">
                <Icon path={mdiPost} />
                <p>Blog</p>
              </a>
              <a target="_blank" href="https://discord.gg/momentummod">
                <Icon path={mdiBookshelf} />
                <p>Docs</p>
              </a>
            </div>

            <div>
              <p>Get Involved</p>
              <a target="_blank" href="https://github.com/momentum-mod/">
                <Icon path={siGithub.path} />
                <p>Github</p>
              </a>
              <a target="_blank" href="https://discord.gg/momentummod">
                <Icon path={siDiscord.path} />
                <p>Discord</p>
              </a>
              <a target="_blank" href="https://opencollective.com/momentum-mod">
                <Icon path={siOpencollective.path} />
                <p>Donate</p>
              </a>
            </div>

            <div>
              <p>Socials</p>
              <a
                target="_blank"
                href="https://store.steampowered.com/app/669270/Momentum_Mod/"
              >
                <Icon path={siSteam.path} />
                <p>Steam</p>
              </a>
              <a target="_blank" href="https://www.twitch.tv/momentummod">
                <Icon path={siTwitch.path} />
                <p>Twitch</p>
              </a>
              <a target="_blank" href="https://www.youtube.com/@MomentumMod">
                <Icon path={siYoutube.path} />
                <p>YouTube</p>
              </a>
            </div>
          </div>
          <div class="copyright">
            <p>Copyright &#169; Momentum Mod {Year}</p>
            <p>|</p>
            <a href="/branding">Branding</a>
            <a href="/legal/copyright">Copyright</a>
            <a href="/legal/terms-of-service">Terms of Service</a>
            <a href="/legal/privacy-policy">Privacy Policy</a>
          </div>
        </footer>
      </div>
    </main>
  </body>
</html>
