---
import Icon from './icon.astro';
import { mdiChevronDoubleDown } from '@mdi/js';
---

<picture class="background">
  <source
    media="(max-width: 1280px)"
    srcset="/assets/images/bg-light_1280x720.webp"
  />
  <source
    media="(max-width: 1920px)"
    srcset="/assets/images/bg-light_1920x1080.webp"
  />
  <source
    media="(min-width: 1921px)"
    srcset="/assets/images/bg-light_2560x1440.webp"
  />
  <img src="/assets/images/bg-light_1920x1080.webp" alt="" />
</picture>
<div class="content">
  <div class="hero">
    <img
      id="Logo"
      class="logo"
      src="/assets/images/logo.svg"
      alt="Momentum Mod's Titlecard Logo"
    />
    <h2 class="subheading" id="Subheading">
      A free first-person racing-platformer built on the Source engine
    </h2>
    <div class="buttons">
      <a
        class="donate"
        target="_blank"
        href="https://opencollective.com/momentum-mod"><p>Donate</p></a
      >
      <a
        class="dashboard"
        target="_blank"
        href="https://momentum-mod.org/dashboard"><p>Dashboard</p></a
      >
      <a class="discord" target="_blank" href="https://discord.gg/momentummod"
        ><p>Discord</p></a
      >
    </div>
    <iframe
      class="steam"
      src="https://store.steampowered.com/widget/669270/"
      height="190"
      title="Steam Store Info"></iframe>
  </div>
  <a id="HeroChevron" href="#Main" class="chevron" aria-label="Scroll down">
    <Icon path={mdiChevronDoubleDown} />
  </a>
</div>

<script>
  const heroChevron = document.querySelector<HTMLLinkElement>('#HeroChevron');
  document.addEventListener('scroll', () => {
    heroChevron.style.opacity = Math.max(
      1 - window.scrollY / 200,
      0
    ).toString();
  });
</script>
